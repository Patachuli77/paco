{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class IDBService {\n  constructor() {}\n  anadirFav() {\n    const peticion = indexedDB.open('PacoApp', 2);\n    peticion.onerror = evento => {\n      throw 'Error al conectar indexedDB';\n    };\n    peticion.onupgradeneeded = evento => {\n      console.log(evento);\n      this.conexion = evento.target.result;\n      this.crear();\n    };\n    peticion.onsuccess = evento => {\n      this.conexion = evento.target.result;\n    };\n  }\n  crear() {\n    const tabla = this.conexion.createObjectStore('Favoritas', {\n      keyPath: 'id',\n      autoIncrement: true\n    });\n  }\n  insertar(objeto, mensajes) {\n    mensajes[1].titulo = 'Error';\n    mensajes[2].titulo = 'Bien hecho';\n    const transaccion = this.conexion.transaction(['Favoritas'], 'readwrite');\n    transaccion.onerror = evento => {\n      if (mensajes[1].tipo == 'error') {\n        mensajes[1].titulo = 'HAY ERROR';\n      }\n      throw 'Error al insertar, alomejor has elegido el mismo ðŸ¥²ðŸ¤”';\n    };\n    if (mensajes[1].titulo != 'HAY ERROR') {\n      const tabla = transaccion.objectStore('Favoritas');\n      const peticion = tabla.add(objeto);\n      if (mensajes[2].tipo == 'exito') {\n        mensajes[2].titulo = 'ESTA BIEN';\n      }\n    }\n  }\n}\nIDBService.Éµfac = function IDBService_Factory(t) {\n  return new (t || IDBService)();\n};\nIDBService.Éµprov = /*@__PURE__*/i0.ÉµÉµdefineInjectable({\n  token: IDBService,\n  factory: IDBService.Éµfac,\n  providedIn: 'root'\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}